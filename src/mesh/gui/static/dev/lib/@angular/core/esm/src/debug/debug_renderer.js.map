{"version":3,"file":"debug_renderer.js","sourceRoot":"","sources":["../../../../../../modules/@angular/core/src/debug/debug_renderer.ts"],"names":[],"mappings":"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","sourcesContent":["interface DecoratorInvocation {\n    type: Function;\n    args?: any[];\n  }\n  import {isPresent} from '../../src/facade/lang';\nimport {Renderer, RootRenderer, RenderComponentType, RenderDebugInfo} from '../render/api';\nimport {\n  DebugNode,\n  DebugElement,\n  EventListener,\n  getDebugNode,\n  indexDebugNode,\n  removeDebugNodeFromIndex\n} from './debug_node';\n\nexport class DebugDomRootRenderer implements RootRenderer {\n  constructor(private _delegate: RootRenderer) {}\n\n  renderComponent(componentProto: RenderComponentType): Renderer {\n    return new DebugDomRenderer(this._delegate.renderComponent(componentProto));\n  }\n}\n\nexport class DebugDomRenderer implements Renderer {\n  constructor(private _delegate: Renderer) {}\n\n  selectRootElement(selectorOrNode: string | any, debugInfo: RenderDebugInfo): any {\n    var nativeEl = this._delegate.selectRootElement(selectorOrNode, debugInfo);\n    var debugEl = new DebugElement(nativeEl, null, debugInfo);\n    indexDebugNode(debugEl);\n    return nativeEl;\n  }\n\n  createElement(parentElement: any, name: string, debugInfo: RenderDebugInfo): any {\n    var nativeEl = this._delegate.createElement(parentElement, name, debugInfo);\n    var debugEl = new DebugElement(nativeEl, getDebugNode(parentElement), debugInfo);\n    debugEl.name = name;\n    indexDebugNode(debugEl);\n    return nativeEl;\n  }\n\n  createViewRoot(hostElement: any): any { return this._delegate.createViewRoot(hostElement); }\n\n  createTemplateAnchor(parentElement: any, debugInfo: RenderDebugInfo): any {\n    var comment = this._delegate.createTemplateAnchor(parentElement, debugInfo);\n    var debugEl = new DebugNode(comment, getDebugNode(parentElement), debugInfo);\n    indexDebugNode(debugEl);\n    return comment;\n  }\n\n  createText(parentElement: any, value: string, debugInfo: RenderDebugInfo): any {\n    var text = this._delegate.createText(parentElement, value, debugInfo);\n    var debugEl = new DebugNode(text, getDebugNode(parentElement), debugInfo);\n    indexDebugNode(debugEl);\n    return text;\n  }\n\n  projectNodes(parentElement: any, nodes: any[]) {\n    var debugParent = getDebugNode(parentElement);\n    if (isPresent(debugParent) && debugParent instanceof DebugElement) {\n      let debugElement = debugParent;\n      nodes.forEach((node) => { debugElement.addChild(getDebugNode(node)); });\n    }\n    this._delegate.projectNodes(parentElement, nodes);\n  }\n\n  attachViewAfter(node: any, viewRootNodes: any[]) {\n    var debugNode = getDebugNode(node);\n    if (isPresent(debugNode)) {\n      var debugParent = debugNode.parent;\n      if (viewRootNodes.length > 0 && isPresent(debugParent)) {\n        var debugViewRootNodes: DebugNode[] = [];\n        viewRootNodes.forEach((rootNode) => debugViewRootNodes.push(getDebugNode(rootNode)));\n        debugParent.insertChildrenAfter(debugNode, debugViewRootNodes);\n      }\n    }\n    this._delegate.attachViewAfter(node, viewRootNodes);\n  }\n\n  detachView(viewRootNodes: any[]) {\n    viewRootNodes.forEach((node) => {\n      var debugNode = getDebugNode(node);\n      if (isPresent(debugNode) && isPresent(debugNode.parent)) {\n        debugNode.parent.removeChild(debugNode);\n      }\n    });\n    this._delegate.detachView(viewRootNodes);\n  }\n\n  destroyView(hostElement: any, viewAllNodes: any[]) {\n    viewAllNodes.forEach((node) => { removeDebugNodeFromIndex(getDebugNode(node)); });\n    this._delegate.destroyView(hostElement, viewAllNodes);\n  }\n\n  listen(renderElement: any, name: string, callback: Function): Function {\n    var debugEl = getDebugNode(renderElement);\n    if (isPresent(debugEl)) {\n      debugEl.listeners.push(new EventListener(name, callback));\n    }\n    return this._delegate.listen(renderElement, name, callback);\n  }\n\n  listenGlobal(target: string, name: string, callback: Function): Function {\n    return this._delegate.listenGlobal(target, name, callback);\n  }\n\n  setElementProperty(renderElement: any, propertyName: string, propertyValue: any) {\n    var debugEl = getDebugNode(renderElement);\n    if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n      debugEl.properties[propertyName] = propertyValue;\n    }\n    this._delegate.setElementProperty(renderElement, propertyName, propertyValue);\n  }\n\n  setElementAttribute(renderElement: any, attributeName: string, attributeValue: string) {\n    var debugEl = getDebugNode(renderElement);\n    if (isPresent(debugEl) && debugEl instanceof DebugElement) {\n      debugEl.attributes[attributeName] = attributeValue;\n    }\n    this._delegate.setElementAttribute(renderElement, attributeName, attributeValue);\n  }\n\n  setBindingDebugInfo(renderElement: any, propertyName: string, propertyValue: string) {\n    this._delegate.setBindingDebugInfo(renderElement, propertyName, propertyValue);\n  }\n\n  setElementClass(renderElement: any, className: string, isAdd: boolean) {\n    this._delegate.setElementClass(renderElement, className, isAdd);\n  }\n\n  setElementStyle(renderElement: any, styleName: string, styleValue: string) {\n    this._delegate.setElementStyle(renderElement, styleName, styleValue);\n  }\n\n  invokeElementMethod(renderElement: any, methodName: string, args: any[]) {\n    this._delegate.invokeElementMethod(renderElement, methodName, args);\n  }\n\n  setText(renderNode: any, text: string) { this._delegate.setText(renderNode, text); }\n}\n"]}