{"version":3,"file":"testing.js","sourceRoot":"","sources":["../../../../modules/@angular/core/testing/testing.ts"],"names":[],"mappings":"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","sourcesContent":["interface DecoratorInvocation {\n    type: Function;\n    args?: any[];\n  }\n  /**\n * Public Test Library for unit testing Angular2 Applications. Uses the\n * Jasmine framework.\n */\nimport {inject, async, injectAsync, TestInjector, getTestInjector} from './test_injector';\n\nimport {isPromise} from '../src/facade/lang';\n\nexport {inject, async, injectAsync} from './test_injector';\n\ndeclare var global;\n\nvar _global = <any>(typeof window === 'undefined' ? global : window);\n\nexport var expect: Function = _global.expect;\n\n/**\n * Run a function (with an optional asynchronous callback) after each test case.\n *\n * See http://jasmine.github.io/ for more details.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='afterEach'}\n */\nexport var afterEach: Function = _global.afterEach;\n\n/**\n * Group test cases together under a common description prefix.\n *\n * See http://jasmine.github.io/ for more details.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='describeIt'}\n */\nexport var describe: Function = _global.describe;\n\n/**\n * See {@link fdescribe}.\n */\nexport var ddescribe: Function = _global.fdescribe;\n\n/**\n * Like {@link describe}, but instructs the test runner to only run\n * the test cases in this group. This is useful for debugging.\n *\n * See http://jasmine.github.io/ for more details.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='fdescribe'}\n */\nexport var fdescribe: Function = _global.fdescribe;\n\n/**\n * Like {@link describe}, but instructs the test runner to exclude\n * this group of test cases from execution. This is useful for\n * debugging, or for excluding broken tests until they can be fixed.\n *\n * See http://jasmine.github.io/ for more details.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='xdescribe'}\n */\nexport var xdescribe: Function = _global.xdescribe;\n\nvar jsmBeforeEach = _global.beforeEach;\nvar jsmIt = _global.it;\nvar jsmIIt = _global.fit;\nvar jsmXIt = _global.xit;\n\nvar testInjector: TestInjector = getTestInjector();\n\n// Reset the test providers before each test.\njsmBeforeEach(() => { testInjector.reset(); });\n\n/**\n * Allows overriding default providers of the test injector,\n * which are defined in test_injector.js.\n *\n * The given function must return a list of DI providers.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='beforeEachProviders'}\n */\nexport function beforeEachProviders(fn): void {\n  jsmBeforeEach(() => {\n    var providers = fn();\n    if (!providers) return;\n    try {\n      testInjector.addProviders(providers);\n    } catch (e) {\n      throw new Error('beforeEachProviders was called after the injector had ' +\n                      'been used in a beforeEach or it block. This invalidates the ' +\n                      'test injector');\n    }\n  });\n}\n\nfunction _wrapTestFn(fn: Function) {\n  // Wraps a test or beforeEach function to handle synchronous and asynchronous execution.\n  return (done: any) => {\n    if (fn.length === 0) {\n      let retVal = fn();\n      if (isPromise(retVal)) {\n        // Asynchronous test function - wait for completion.\n        (<Promise<any>>retVal).then(done, done.fail);\n      } else {\n        // Synchronous test function - complete immediately.\n        done();\n      }\n    } else {\n      // Asynchronous test function that takes \"done\" as parameter.\n      fn(done);\n    }\n  };\n}\n\nfunction _it(jsmFn: Function, name: string, testFn: Function, testTimeOut: number): void {\n  jsmFn(name, _wrapTestFn(testFn), testTimeOut);\n}\n\n/**\n * Wrapper around Jasmine beforeEach function.\n *\n * beforeEach may be used with the `inject` function to fetch dependencies.\n *\n * See http://jasmine.github.io/ for more details.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='beforeEach'}\n */\nexport function beforeEach(fn: Function): void {\n  jsmBeforeEach(_wrapTestFn(fn));\n}\n\n/**\n * Define a single test case with the given test name and execution function.\n *\n * The test function can be either a synchronous function, the result of {@link async},\n * or an injected function created via {@link inject}.\n *\n * Wrapper around Jasmine it function. See http://jasmine.github.io/ for more details.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='describeIt'}\n */\nexport function it(name: string, fn: Function, timeOut: number = null): void {\n  return _it(jsmIt, name, fn, timeOut);\n}\n\n/**\n * Like {@link it}, but instructs the test runner to exclude this test\n * entirely. Useful for debugging or for excluding broken tests until\n * they can be fixed.\n *\n * Wrapper around Jasmine xit function. See http://jasmine.github.io/ for more details.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='xit'}\n */\nexport function xit(name: string, fn: Function, timeOut: number = null): void {\n  return _it(jsmXIt, name, fn, timeOut);\n}\n\n/**\n * See {@link fit}.\n */\nexport function iit(name: string, fn: Function, timeOut: number = null): void {\n  return _it(jsmIIt, name, fn, timeOut);\n}\n\n/**\n * Like {@link it}, but instructs the test runner to only run this test.\n * Useful for debugging.\n *\n * Wrapper around Jasmine fit function. See http://jasmine.github.io/ for more details.\n *\n * ## Example:\n *\n * {@example testing/ts/testing.ts region='fit'}\n */\nexport function fit(name: string, fn: Function, timeOut: number = null): void {\n  return _it(jsmIIt, name, fn, timeOut);\n}\n"]}