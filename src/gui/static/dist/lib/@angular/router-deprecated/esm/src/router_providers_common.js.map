{"version":3,"file":"router_providers_common.js","sourceRoot":"","sources":["../../../../../modules/@angular/router-deprecated/src/router_providers_common.ts"],"names":[],"mappings":"OAAO,EAAC,cAAc,EAAW,MAAM,eAAe;OAC/C,EAAC,gBAAgB,EAAE,oBAAoB,EAAE,QAAQ,EAAC,MAAM,iBAAiB;OACzE,EAAC,MAAM,EAAE,UAAU,EAAC,MAAM,UAAU;OACpC,EAAC,aAAa,EAAE,wBAAwB,EAAC,MAAM,kBAAkB;OAEjE,EAAC,aAAa,EAAC,MAAM,0BAA0B;AAEtD;;GAEG;AACH,OAAO,MAAM,uBAAuB,GAA4B;IAC9D,aAAa;IACb,uBAAuB,CAAC,EAAC,OAAO,EAAE,gBAAgB,EAAE,QAAQ,EAAE,oBAAoB,EAAC;IACnF,QAAQ;IACR;QACE,OAAO,EAAE,MAAM;QACf,UAAU,EAAE,aAAa;QACzB,IAAI,EAAE,CAAC,aAAa,EAAE,QAAQ,EAAE,wBAAwB,EAAE,cAAc,CAAC;KAC1E;IACD;QACE,OAAO,EAAE,wBAAwB;QACjC,UAAU,EAAE,6BAA6B;QACzC,IAAI,EAAE,kBAAkB,CAAC,CAAC,CAAC,cAAc,CAAC,CAAC;KAC5C;CACF,CAAC;AAEF,uBAAuB,QAAuB,EAAE,QAAkB,EAAE,gBAAsB,EACnE,MAAsB;IAC3C,IAAI,UAAU,GAAG,IAAI,UAAU,CAAC,QAAQ,EAAE,QAAQ,EAAE,gBAAgB,CAAC,CAAC;IACtE,MAAM,CAAC,uBAAuB,CAAC,MAAM,UAAU,CAAC,OAAO,EAAE,CAAC,CAAC;IAC3D,MAAM,CAAC,UAAU,CAAC;AACpB,CAAC;AAED,uCAAuC,GAAmB;IACxD,EAAE,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;QACnC,MAAM,IAAI,aAAa,CAAC,2DAA2D,CAAC,CAAC;IACvF,CAAC;IACD,MAAM,CAAC,GAAG,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;AAC/B,CAAC","sourcesContent":["import {ApplicationRef, Provider} from '@angular/core';\nimport {LocationStrategy, PathLocationStrategy, Location} from '@angular/common';\nimport {Router, RootRouter} from './router';\nimport {RouteRegistry, ROUTER_PRIMARY_COMPONENT} from './route_registry';\nimport {Type} from '../src/facade/lang';\nimport {BaseException} from '../src/facade/exceptions';\n\n/**\n * The Platform agnostic ROUTER PROVIDERS\n */\nexport const ROUTER_PROVIDERS_COMMON: any[] = /*@ts2dart_const*/[\n  RouteRegistry,\n  /* @ts2dart_Provider */ {provide: LocationStrategy, useClass: PathLocationStrategy},\n  Location,\n  {\n    provide: Router,\n    useFactory: routerFactory,\n    deps: [RouteRegistry, Location, ROUTER_PRIMARY_COMPONENT, ApplicationRef]\n  },\n  {\n    provide: ROUTER_PRIMARY_COMPONENT,\n    useFactory: routerPrimaryComponentFactory,\n    deps: /*@ts2dart_const*/ ([ApplicationRef])\n  }\n];\n\nfunction routerFactory(registry: RouteRegistry, location: Location, primaryComponent: Type,\n                       appRef: ApplicationRef): RootRouter {\n  var rootRouter = new RootRouter(registry, location, primaryComponent);\n  appRef.registerDisposeListener(() => rootRouter.dispose());\n  return rootRouter;\n}\n\nfunction routerPrimaryComponentFactory(app: ApplicationRef): Type {\n  if (app.componentTypes.length == 0) {\n    throw new BaseException(\"Bootstrap at least one component before injecting Router.\");\n  }\n  return app.componentTypes[0];\n}\n"]}