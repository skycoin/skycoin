{"version":3,"sources":["app/components/pending.transactions.component.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;YAuCA;gBAGE,8BAAoB,mBAA6C;oBAA7C,wBAAmB,GAAnB,mBAAmB,CAA0B;gBAAE,CAAC;gBAIpE,8CAAe,GAAf;oBACE,IAAI,CAAC,kBAAkB,EAAE,CAAC;gBAC5B,CAAC;gBAED,iDAAkB,GAAlB;oBAAA,iBASC;oBARC,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,EAAE,CAAC,SAAS,CAAC,UAAA,WAAW;wBAEjE,KAAI,CAAC,YAAY,GAAG,WAAW,CAAC;oBAClC,CAAC,EACD,UAAA,GAAG;wBACD,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;oBACnB,CAAC,CACJ,CAAC;gBACJ,CAAC;gBACD,gDAAiB,GAAjB,UAAkB,EAAE;oBAClB,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,kBAAkB,CAAC,CAAA;gBAC9C,CAAC;gBACD,4CAAa,GAAb;oBAAA,iBAIC;oBAHC,IAAI,CAAC,mBAAmB,CAAC,iBAAiB,EAAE,CAAC,SAAS,CAAC;wBACrD,KAAI,CAAC,kBAAkB,EAAE,CAAC;oBAC5B,CAAC,CAAC,CAAC;gBACL,CAAC;gBA/DH;oBAAC,gBAAS,CAAC;wBACT,QAAQ,EAAE,sBAAsB;wBAChC,QAAQ,EAAE,8gDA4BG;wBAEb,SAAS,EAAC,CAAC,uDAAyB,CAAC;qBACtC,CAAC;;wCAAA;gBA+BF,2BAAC;YAAD,CA7BA,AA6BC,IAAA;YA7BD,uDA6BC,CAAA","file":"pending.transactions.component.js","sourcesContent":["import { Component, AfterViewInit} from \"@angular/core\";\r\nimport {PendingTransactionService} from \"../services/pending.transaction.service\";\r\ndeclare var moment: any;\r\n\r\n@Component({\r\n  selector: 'pending-transactions',\r\n  template: `\r\n<button class=\"btn btn-default right\" type=\"button\" (click)=\"sendExecution()\" >Resend for execution</button>\r\n<div class=\"table-responsive\">\r\n                  <table id=\"pending-table\" class=\"table\">\r\n                            <tbody>\r\n                            <tr class=\"dark-row\">\r\n                                <td>S. No</td>\r\n                                <td>Time received</td>\r\n                                <td>Transaction ID</td>\r\n                                <td>Inputs</td>\r\n                                <td>Outputs</td>\r\n                                <td>Amount</td>\r\n                            </tr>\r\n                            <tr *ngFor=\"let transaction of transactions;let i=index\">\r\n                                <td>{{i+1}}</td>\r\n                                <td>{{getDateTimeString(transaction.received)}}</td>\r\n                                <td>{{transaction.transaction.txid}}</td>\r\n                                <td>\r\n                                <p *ngFor=\"let input of transaction.transaction.inputs\">{{input}},<br></p>\r\n</td>\r\n                                <td>\r\n                                <p *ngFor=\"let output of transaction.transaction.outputs\">{{output.dst}},<br></p>\r\n</td>\r\n                                <td><p *ngFor=\"let output of transaction.transaction.outputs\">{{output.coins}},<br></p></td>\r\n                            </tr>\r\n                            </tbody>\r\n                        </table>\r\n                        </div>\r\n              `\r\n  ,\r\n  providers:[PendingTransactionService]\r\n})\r\n\r\nexport class PendingTxnsComponent implements AfterViewInit {\r\n\r\n\r\n  constructor(private _pendingTxnsService:PendingTransactionService){}\r\n\r\n  transactions:any[];\r\n\r\n  ngAfterViewInit(): any {\r\n    this.refreshPendingTxns();\r\n  }\r\n\r\n  refreshPendingTxns():any{\r\n    this._pendingTxnsService.getPendingTransactions().subscribe(pendingTxns=>\r\n        {\r\n          this.transactions = pendingTxns;\r\n        },\r\n        err => {\r\n          console.log(err);\r\n        }\r\n    );\r\n  }\r\n  getDateTimeString(ts) {\r\n    return moment(ts).format(\"YYYY-MM-DD HH:mm\")\r\n  }\r\n  sendExecution():void{\r\n    this._pendingTxnsService.resendPendingTxns().subscribe(()=>{\r\n      this.refreshPendingTxns();\r\n    });\r\n  }\r\n}\r\n\r\n"],"sourceRoot":"/src"}